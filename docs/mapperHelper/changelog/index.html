
<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.21" />
    <meta name="description" content="">


    

    
    <title>更新日志</title>
    <link href="https://mapperhelper.github.io//css/nucleus.css" rel="stylesheet">
    <link href="https://mapperhelper.github.io//css/font-awesome.min.css" rel="stylesheet">
    <link href="https://mapperhelper.github.io//css/hybrid.css" rel="stylesheet">
    <link href="https://mapperhelper.github.io//css/featherlight.min.css" rel="stylesheet">
    <link href="https://mapperhelper.github.io//css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://mapperhelper.github.io//css/horsey.css" rel="stylesheet">
    <link href="https://mapperhelper.github.io//css/theme.css" rel="stylesheet">
    <link href="https://mapperhelper.github.io//css/hugo-theme.css" rel="stylesheet">
    <script src="https://mapperhelper.github.io//js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?aa614f061a0b498c030579fe57423496";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
  </head>
  <body class="" data-url="/changelog/">
    
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://getgrav.org" style="font-weight:bold;">
MyBatis 通用 Mapper
</a>

    </div>
    
</div>


  <div class="highlightable">
    <ul class="topics">
      
        
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
        
        
          
        
          
        
          
        
          
        
      
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/docs/">
        <a href="/docs/">
          <span>
            
              <b>1. </b>
            
             MyBatis 通用 Mapper
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/docs/1.integration/">
              <a href="/docs/1.integration/">
                <span>1. 集成通用 Mapper     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs/2.use/">
              <a href="/docs/2.use/">
                <span>2. 使用通用 Mapper     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs/3.usembg/">
              <a href="/docs/3.usembg/">
                <span>3. MyBatis Generator 插件     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs/3-2.mapper-uuid/">
              <a href="/docs/3-2.mapper-uuid/">
                <span>4. UUID 简单示例     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs/5.professional/">
              <a href="/docs/5.professional/">
                <span>5. 高级用法     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs/6.mymapper/">
              <a href="/docs/6.mymapper/">
                <span>6. 开发自己的通用接口方法     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs/7.use330/">
              <a href="/docs/7.use330/">
                <span>7. 3.3.0 版本新增内容使用文档     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/docs/8.updateto3/">
              <a href="/docs/8.updateto3/">
                <span>8. Mapper2 升级 3 注意事项     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/all/">
        <a href="/all/">
          <span>
            
              <b>2. </b>
            
             Mapper 接口大全
            
           </span>
        </a>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/faq/">
        <a href="/faq/">
          <span>
            
              <b>3. </b>
            
             Mapper 常见问题和用法
            
           </span>
        </a>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item active parent" data-nav-id="/changelog/">
        <a href="/changelog/">
          <span>
            
              <b>4. </b>
            
             更新日志
            
           </span>
        </a>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
      <p>
  <a href="https://github.com/abel533/Mapper">view on GitHub</a>
</p>
<br/>
<p>
  <a href="http://git.oschina.net/free/Mapper">view on GitOsc</a>
</p>

    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable sticky-parent">

            <div class="sticky-spacer">
              <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                
                  
                  
                  
                    
                    
                  
                
                <span itemprop="title"> 更新日志</span>
              </div>
              
            </div>

            </div>
            
              <div id="chapter">
            
              <div id="body-inner">
                



<h3 id="mybatis-通用-mapper">MyBatis 通用 Mapper</h3>

<h1 id="更新日志">更新日志</h1>

<h2 id="3-4-1-2017-07-17">3.4.1 - 2017-07-17</h2>

<ul>
<li><code>Example</code> 增加复杂的 <code>and</code> 和 <code>or</code> 功能。</li>
<li><code>Example</code> 增加排除查询字段的方法 <code>excludeProperties</code>(<code>selectProperties</code>优先级更高) <a href="http://git.oschina.net/free/Mapper/issues/261">#261</a>.</li>
<li><code>SqlHelper</code> 中复杂的 <code>if</code> 改为 <code>choose</code> 方式。</li>
<li>解决通过<code>@Column</code>配置关键字的分隔符时，无法得到该列值的bug。</li>
</ul>

<h2 id="3-4-0-2017-02-19">3.4.0 - 2017-02-19</h2>

<ul>
<li><code>Example</code> 增加 for update 支持，仅能用于 selectByExample 和 selectCountByExample 方法 #210</li>
<li><code>Example.Criteria</code> 增加 <code>andAllEqualTo</code> 方法，将此对象的所有字段参数作为相等查询条件，如果字段为 null，则为 is null #206</li>
<li>增加参数 <code>checkExampleEntityClass</code>，默认 <code>false</code> 用于校验通用 Example 构造参数 entityClass 是否和当前调用的 Mapper<EntityClass> 类型一致 #201</li>
<li>增加参数 <code>useSimpleType</code>，默认 <code>false</code>，启用后判断实体类属性是否为表字段时校验字段是否为简单类型，如果不是就忽略该属性，这个配置优先级高于所有注解</li>
<li>增加参数 <code>simpleTypes</code>，默认的简单类型在 <code>SimpleTypeUtil</code> 中，使用该参数可以增加额外的简单类型，通过逗号隔开的全限定类名添加</li>
<li>所有 <code>RuntimeException</code> 异常改为 <code>tk.mybatis.mapper.MapperException</code> 异常</li>
<li>所有 Update 方法添加 <code>@Options(useCache = false, useGeneratedKeys = false)</code>，fix #216</li>
<li>使用自定义的 <code>SelectKeyGenerator</code>，防止有默认值时被替换掉 fix #213</li>
<li>将 MapperTemplate 属性改为 protected</li>
<li>MBG 插件中 generatedKey 元素的 sqlStatement 属性可以配置为形如 select SEQ_{1} from dual 的 SQL，其中 {0} 代表小写的表名，{1} 是大写的表名
MBG 配置示例如下,类似 Oracle 序列的配置方式：
<code>xml
&lt;generatedKey column=&quot;id&quot;
    sqlStatement=&quot;select SEQ_{1}.nextval from dual&quot;
    identity=&quot;false&quot;
    type=&quot;pre&quot;/&gt;
</code>
这个配置生成的代码会像下面这样：
<code>java
public class Author {
   @Id
   @GeneratedValue(strategy = GenerationType.IDENTITY,
           generator = &quot;select SEQ_AUTHOR.nextval from dual&quot;)
   private Integer id;
   // 省略其他
}
</code></li>
</ul>

<h2 id="3-3-9-2016-09-04">3.3.9 - 2016-09-04</h2>

<ul>
<li>增加<code>selectByIds</code>和<code>deleteByIds</code>，用法见通用Mapper接口大全</li>
<li>根据<strong>李领北</strong>建议修改<code>Example</code>中的<code>propertyMap</code>#159</li>
<li><code>Example</code>中的<code>andIn</code>和<code>andNotIn</code>中的参数<code>Collection</code>改为<code>Iterable</code></li>
<li>解决驼峰转下划线的错误，感谢 ptma, piggsoft 和 liufor 的PR</li>
<li>增加对MBG1.3.4的支持</li>
<li>MBG插件支持<code>beginningDelimiter</code>和<code>endingDelimiter</code></li>
<li>MBG插件增加schema配置（catalog也可以用这个），会自动在表的注解名字前面加上<code>schema.tablename</code></li>
<li>MBG插件支持oracle获取注释，其他数据库可以尝试#114</li>
<li>MBG扩展，详情看<a href="http://blog.csdn.net/isea533/article/details/52430691">MyBatis Generator 1.3.4 扩展，可以设置 Mapper（Dao）后缀</a></li>
</ul>

<h2 id="3-3-8-2016-03-23">3.3.8 - 2016-03-23</h2>

<ul>
<li><code>Example</code>的<code>andIn</code>和<code>andNotIn</code>方法参数改为<code>Collection</code> #109</li>
<li>解决ResultMapping.Builder3.2.6版本新增<code>lazy</code>方法导致无法兼容3.2.4~3.2.5版本的问题，仍然兼容3.2.4+</li>
<li>解决github<a href="https://github.com/abel533/Mapper/issues/12">#12</a> 问题</li>
<li>解决#107</li>
<li>解决和分页插件PageHelper中orderBy默认属性名相同导致排序的错误</li>
</ul>

<h2 id="3-3-7-2016-03-12">3.3.7 - 2016-03-12</h2>

<ul>
<li><code>Example</code>增加<code>orderBy</code>方法，使用属性进行排序，例如：<code>example.orderBy(&quot;id&quot;).desc().orderBy(&quot;countryname&quot;).orderBy(&quot;countrycode&quot;).asc();</code></li>
<li>当实体类包含数组类型的字段时，在<code>resultMap</code>中不使用<code>javaType</code>，这种情况如果出错，可以通过<code>@ColumnType</code>注解设置<code>jdbcType</code> #103</li>
<li>实体类中忽略<code>transient</code>类型的字段#106</li>
</ul>

<h2 id="3-3-6-2016-02-20">3.3.6 - 2016-02-20</h2>

<ul>
<li>增加对mybatis-spring 1.2.4版本的支持，兼容之前的版本</li>
</ul>

<h2 id="3-3-5-2016-02-16">3.3.5 - 2016-02-16</h2>

<ul>
<li><code>Example</code>增加对动态表名支持，通过<code>setTableName</code>设置表名</li>
<li>在example相关的两个<code>update</code>方法中，参数为实体类和<code>Example</code>，这个方法只能通过<code>Example</code>来设置动态表名，不支持通过实体设置动态表名</li>
<li>优化两个<code>select count</code>查询，当表只有一个主键的时候，使用<code>select count(pk)</code>，其他时候使用<code>select count(*)</code></li>
</ul>

<h2 id="3-3-4-2016-01-05">3.3.4 - 2016-01-05</h2>

<ul>
<li>解决insertList的bug#86</li>
<li><code>Example</code>构造方法增加<code>notNull</code>参数，默认<code>false</code>，允许值为<code>null</code>，值为<code>null</code>的时候不加入到条件中。</li>
<li><code>seqFormat</code>格式化参数增加第四个可配置值<code>TableName</code></li>
</ul>

<h2 id="3-3-3-2015-12-30">3.3.3 - 2015-12-30</h2>

<ul>
<li>解决OGNL中的and,or大写导致的错误</li>
<li>解决SpecialProvider不支持insertable的bug#77</li>
<li>解决JDK6,7无法获取字段泛型类型的问题。</li>
<li>提供一个Spring Boot集成的示例: <a href="https://github.com/abel533/MyBatis-Spring-Boot">https://github.com/abel533/MyBatis-Spring-Boot</a></li>
</ul>

<h2 id="3-3-2-2015-12-12">3.3.2 - 2015-12-12</h2>

<ul>
<li>解决数据越界bug#73</li>
<li>解决and少空格问题</li>
<li>解决order by错误#74</li>
<li><code>tk.mybatis.spring.mapper.MapperScannerConfigurer</code>中的属性<code>mapperHelper</code>增加setter和getter方法，方便通过代码进行配置</li>
</ul>

<h2 id="3-3-1-2015-12-09">3.3.1 - 2015-12-09</h2>

<ul>
<li>增加<code>enableMethodAnnotation</code>参数，可以控制是否支持方法上的JPA注解，默认<code>false</code>。
设置<code>enableMethodAnnotation = true</code>的时候注意，如<code>getRealName</code>或<code>setYourName</code>都会产生<code>realName</code>属性或<code>yourName</code>属性，如果该方法对应的属性不是表中的字段，就需要给方法增加<code>@Transient</code>注解。
同样如果你的实体是继承<code>Map</code>类型的，你不需要在实体中写<code>private String userName</code>这样的属性，你只需要写<code>setUserName</code>或<code>getUserName</code>这样的方法就可以。</li>
<li>在处理的注解的时候，优先从<code>Field</code>获取，然后是<code>setter</code>方法，最后是<code>getter</code>方法，注解重复的情况下，只获取按顺序得到的第一个</li>
<li>为了支持如<code>public class Country extends Entity&lt;Integer, String&gt;</code>这样的泛型类型,在生成<code>#{propertyName}</code>的时候都带上了<code>javaType</code>属性。
产生的结果就是<code>#{propertyName, javaType=java.lang.Integer}</code>这样子的，这会导致当你调用方法时，必须保证类型一致。
也就是假设主键是<code>Integer id</code>，调用<code>selectByPrimaryKey(Object id)</code>的时候，参数<code>id</code>必须使用<code>100</code>这样的数字，不能使用<code>&quot;100&quot;</code>字符串（以前版本可以）。
如果不带<code>javaType</code>，那么如果<code>id</code>是个泛型，MyBatis查找的时候就会因为找不到正确的类型而抛出异常。</li>
<li>为了让扩展更方便，将<code>tk.mybatis.mapper.provider</code>包下所有的通用接口的实现方法改为了<code>String</code>形式。
自己扩展单表操作的方法是非常容易的事情，建议有一定通用Mapper使用基础的自行扩展，扩展可以参考<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/6.MyMapper.md">如何扩展通用接口</a></li>
<li>新增<code>SqlHelper</code>工具类，其中包含了大量可用的现成的SQL方法</li>
<li><code>@Column</code>注解增加对<code>insertable</code>和<code>updatable</code>属性的支持</li>
</ul>

<h2 id="3-3-0-2015-11-01">3.3.0 - 2015-11-01</h2>

<ul>
<li>增加对动态表名的支持，需要实体类继承<code>IDynamicTableName</code>接口，用法见<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/3.2.Use330.md">详细说明</a></li>
<li><code>Example</code>增加自定义查询条件，提供了4个方法，具体方法和用法见<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/3.2.Use330.md">详细说明</a></li>
<li>新增<code>@ColumnType</code>注解，可以单独设置列的<code>jdbcType</code>和<code>typeHandler</code></li>
<li><code>Example</code>的<code>in</code>和<code>not in</code>中的<code>List&lt;Object&gt;</code>参数改为<code>List&lt;?&gt;</code>，允许任意类型</li>
<li>select查询方法返回类型不在使用<code>resultType</code>，改为<code>resultMap</code>，因此可以支持<code>typeHandler</code>的读取</li>
<li><code>Style</code>自动转方式新增<code>camelhumpAndUppercase</code>驼峰转下划线大写形式,<code>camelhumpAndLowercase</code>驼峰转下划线小写形式</li>
<li>MapperTemplate中的<code>getSelectReturnType</code>方法改为<code>getEntityClass</code>，<code>getBEFORE</code>改为<code>isBEFORE</code></li>
<li>文档中增加<code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>的一种重要<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/3.2.Use330.md">用法说明</a></li>
<li>修复selectAll不支持<code>@OrderBy</code>注解的bug</li>
<li>解决一个驼峰转换bug，例如<code>helloWorld</code>会转换为<code>hello_world</code>（原先是<code>hello_World</code>）</li>
</ul>

<h2 id="3-2-2-2015-09-19">3.2.2 - 2015-09-19</h2>

<ul>
<li>和Spring集成时，允许通过<code>markerInterface</code>属性配置通用接口（注意该属性的原有作用不变），想要让该接口自动注册，该接口就需要继承<code>tk.mybatis.mapper.common.Marker</code>接口，<code>Mapper&lt;T&gt;</code>默认继承该接口，所以如果自己的接口是继承<code>Mapper&lt;T&gt;</code>的，不需要再继承。</li>
<li>解决注册默认接口时存在的bug</li>
</ul>

<h2 id="3-2-1-2015-09-02">3.2.1 - 2015-09-02</h2>

<ul>
<li>解决spring集成中可能出现definition.getBeanClassName()空指针异常bug<a href="http://git.oschina.net/free/Mapper/issues/49">#49</a></li>
<li>关于3.2.x版本，请仔细看3.2.0的更新日志，最新版本的文档也是针对3.2.x版本的</li>
</ul>

<h2 id="3-2-0-2015-09-02">3.2.0 - 2015-09-02</h2>

<ul>
<li>移除<code>MapperInterceptor</code>拦截器，以后不能在通过拦截器配置</li>
<li>增加mybatis-spring特殊支持，主要是根据mybatis-spring项目增加了下面两个类：

<ul>
<li><code>tk.mybatis.spring.mapper.MapperScannerConfigurer</code></li>
<li><code>tk.mybatis.spring.mapper.MapperFactoryBean</code></li>
</ul></li>
<li>这两个类和MyBatis提供的区别是增加了MapperHelper属性，通过在<code>MapperScannerConfigurer</code>中使用<code>properties</code>属性注入配置</li>
<li>这两个类，在全名上和MyBatis的区别是<code>org.mybatis.xxx</code>改为了<code>tk.mybatis.xxx</code>，名字相近，更方便修改配置</li>
<li>和Spring集成方法：</li>
</ul>

<pre><code class="language-xml">&lt;bean class=&quot;tk.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;property name=&quot;basePackage&quot; value=&quot;com.isea533.mybatis.mapper&quot;/&gt;
    &lt;property name=&quot;properties&quot;&gt;
        &lt;value&gt;
            mappers=tk.mybatis.mapper.common.Mapper
        &lt;/value&gt;
    &lt;/property&gt;
&lt;/bean&gt;
</code></pre>

<ul>
<li>这种配置方式是不是简单的不能再简单了?</li>
<li>增加<code>style</code>属性配置，用来配置对象名/字段和表名/字段之间的转换方式，可选值：

<ul>
<li><code>normal</code>:使用实体类名/属性名作为表名/字段名</li>
<li><code>camelhump</code>:<b>这是默认值</b>，驼峰转换为下划线形式</li>
<li><code>uppercase</code>:转换为大写</li>
<li><code>lowercase</code>:转换为小写</li>
</ul></li>
<li>增加实体注解<code>@NameStyle</code>，该注解优先于全局配置<code>style</code></li>
<li>解决<code>example.selectProperties</code>映射错误的bug<a href="http://git.oschina.net/free/Mapper/issues/48">#48</a></li>
</ul>

<h2 id="3-1-3-2015-08-25">3.1.3 - 2015-08-25</h2>

<ul>
<li>去掉了3.1.3-SNAPSHOT版本中的<code>MapperOnceInterceptor</code>拦截器，下个版本会完善<code>MapperHelper</code>的配置方式</li>
<li><code>Example</code>增加了<code>example.selectProperties(&quot;id&quot;, &quot;countryname&quot;, ...)</code>方法，可以指定查询列，注意这里参数写的是属性名，<code>Example</code>会自动映射到列名</li>
<li><code>Example</code>增加<code>andEqualTo(实体对象)</code>方法，可以将一个实体放进去，会自动根据属性和值拼出column=value的条件 <b>Bob - 0haizhu0@gmail.com 提供</b></li>
<li>MyBatis在处理<code>&lt;cache/&gt;</code>和<code>@CacheNamespace</code>的时候不统一，只有一个能生效，这导致xml中配置二级缓存对通用Mapper注解形式的方法无效，该问题已解决</li>
<li>二级缓存配置方法，如果接口有对应的xml，在xml中配置二级缓存。如果只有接口没有xml，用注解配置二级缓存即可</li>
<li>需要注意的是，二级缓存在xml配置时，只对通用Mapper方法有效，自己用<code>@Select</code>等注解定义的这种仍然无效，这种情况只能在xml中定义</li>
</ul>

<h2 id="3-1-2-2015-07-14">3.1.2 - 2015-07-14</h2>

<ul>
<li>解决别名时的一种特殊情况，例如<code>@Column(name=&quot;</code>desc<code>&quot;)</code>的时候，就不需要自动添加别名</li>
<li>反射获取所有列名的时候，不在自动转换为大写形式，对数据库区分大小写的情况有用</li>
</ul>

<h2 id="3-1-1-2015-07-01">3.1.1 - 2015-07-01</h2>

<ul>
<li>解决<code>ConditionMapper</code>中<code>selectByCondition</code>和<code>updateByCondition</code>方法错误</li>
</ul>

<h2 id="3-1-0-2015-06-10">3.1.0 - 2015-06-10</h2>

<ul>
<li>基础包名从<code>com.github.abel533</code>改为<code>tk.mybatis.mapper</code></li>
<li>Maven的groupId改为<code>tk.mybatis</code>,artifactId为<code>mapper</code></li>
<li>增加和Example功能类似的Condition查询，仅仅名字不同</li>
<li>更多详细变化请看<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/5.Mappers.md">Mapper3通用接口大全</a></li>
<li>关于3.0.x版本请看<a href="http://git.oschina.net/free/Mapper/tree/Mapper3.0.x/">Mapper3.0.x</a></li>
</ul>

<h2 id="3-0-0-2015-06-04">3.0.0 - 2015-06-04</h2>

<ul>
<li>将<code>EntityMapper</code>和<code>SqlMapper</code>移出，现在是独立项目<a href="http://git.oschina.net/free/EntityMapper">EntityMapper</a></li>
<li>将<code>Mapper&lt;T&gt;</code>全部接口方法拆分为独立接口，方便选择集成</li>
<li>增加<code>MySqlMapper&lt;T&gt;</code>包含批量插入和单个插入，批量插入可以回写全部id</li>
<li>增加<code>RowBoundsMapper&lt;T&gt;</code>包含两个分页查询，可以配合<a href="http://git.oschina.net/free/Mybatis_PageHelper">PageHelper</a>实现物理分页</li>
<li>详细变化请看<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/1.Changes.md">Mapper3变化</a></li>
<li>Mapper2资深用户请看<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/4.Professional.md">Mapper3高级应用</a></li>
<li><a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/5.Mappers.md">Mapper3通用接口大全</a></li>
<li><a href="http://git.oschina.net/free/Mapper/blob/master/wiki/mapper3/6.MyMapper.md">快速开发自己的通用接口</a></li>
</ul>

<h2 id="2-3-4-2015-06-01">2.3.4 - 2015-06-01</h2>

<ul>
<li>高并发时selectKey会产生异常，解决<a href="http://git.oschina.net/free/Mapper/issues/32">#32</a></li>
<li>兼容MyBatis3.3.0版本</li>
<li><b>提前预告：下个版本3.0.0会将通用Mapper项目拆分为两个项目，会有一些大的改动</b></li>
</ul>

<h2 id="2-3-3-2015-05-14">2.3.3 - 2015-05-14</h2>

<ul>
<li>解决Example查询中的<code>and</code>缺少空格的问题</li>
<li>去掉UUID和JDBC两种主键策略类型中对字段类型的限制
不再限制为<code>String</code>，可以是任意简单类型，需要自己保证类型匹配。例如UUID配置的策略可以返回<code>Integer</code>,那么字段类型必须是<code>Integer</code>。</li>
<li>JDBC类型的主键策略可以配置多个，就相当于<code>keyProperties=&quot;id1,id2...&quot;</code></li>
<li><code>EntityHelper</code>的<code>getOrderByClause</code>方法返回值从<code>StringBuilder</code>改为<code>String</code>，解决<code>@OrderBy</code>注解时的异常</li>
<li><b>提前预告：下个版本3.0.0会将通用Mapper项目拆分为两个项目，会有一些大的改动</b></li>
</ul>

<h2 id="2-3-2-2015-04-21">2.3.2 - 2015-04-21</h2>

<ul>
<li>解决Example查询中in,notin无效的bug<a href="http://git.oschina.net/free/Mapper/issues/24">#24</a></li>
</ul>

<h2 id="2-3-1-2015-04-13">2.3.1 - 2015-04-13</h2>

<ul>
<li>完善所有和PrimaryKey有关的通用查询</li>
<li>修复Mapper<T>接口中update操作会更新主键的bug</li>
<li>修复Mapper<T>接口中使用Example查询的时候，条件and前面缺少空格，影响美观</li>
<li>MBG插件增加caseSensitive默认false，当数据库表名区分大小写时，可以将该属性设置为true</li>
</ul>

<h2 id="2-3-0-2015-04-05">2.3.0 - 2015-04-05</h2>

<ul>
<li>Mapper接口和EntityMapper都增加了<code>selectOne</code>方法，该查询返回值最多只能有一个，存在多个时抛出异常</li>
<li>Mapper接口和EntityMapper中，返回List的查询方法都支持JPA的<code>@Orderby</code>注解。其中<code>Example</code>查询中的<code>orderby</code>会覆盖注解的<code>@Orderby</code>设置。</li>
<li>通过实体类获取表名的时候，不对表名进行强制的大小写转换。如果数据库大小写敏感，请通过<code>@Table</code>注解和数据库保持一致。</li>
</ul>

<h2 id="2-2-0-2015-03-11">2.2.0 - 2015-03-11</h2>

<ul>
<li>新增<code>SqlMapper</code>，可以使用MyBatis直接执行sql，<a href="http://git.oschina.net/free/Mapper/blob/master/wiki/UseSqlMapper.md">详细文档</a></li>
</ul>

<h2 id="2-1-0-2015-03-07">2.1.0 - 2015-03-07</h2>

<ul>
<li><p>通用Mapper接口增加Example查询方法，包括以下方法：</p>

<pre><code class="language-java">int selectCountByExample(Object example);

int deleteByExample(Object example);

List&lt;T&gt; selectByExample(Object example);

int updateByExampleSelective(@Param(&quot;record&quot;) T record, @Param(&quot;example&quot;) Object example);

int updateByExample(@Param(&quot;record&quot;) T record, @Param(&quot;example&quot;) Object example);
</code></pre></li>

<li><p>通用<code>Example</code>增加了一个<code>exists</code>的参数，当<code>true</code>的时候如果使用的字段不存在会抛出异常，<code>false</code>时不抛出异常，但是不使用该字段的条件。</p></li>
</ul>

<h2 id="2-0-1-2015-02-28">2.0.1 - 2015-02-28</h2>

<ul>
<li>增加拦截器，完善相应的文档</li>
</ul>

<h2 id="2-0-0-2015-02-04">2.0.0 - 2015-02-04</h2>

<ul>
<li>增加一个<code>CommonMapper</code>和包装类<code>EntityMapper</code>，建议使用<code>EntityMapper</code></li>
<li>有关<code>EntityMapper</code>的内容请看独立文档，这个类足以独立成一个开源项目</li>
<li>增加对JPA注解<code>OrderBy</code>的支持，仅对<code>select</code>一个方法有效</li>
</ul>

<p><strong>简单说明，为什么版本这么快就到了2.0？</strong></p>

<p>因为<code>EntityMapper</code>，这是另一种形式的通用Mapper。</p>

<p>这里说说<code>EntityMapper</code>和通用Mapper的区别。</p>

<p>通用Mapper需要有继承的接口，需要指定泛型类型，可以缓存，和手写的效果一样。</p>

<p><code>EntityMapper</code>无需继承，可以直接使用，而且这一个对象就可以操作全部的实体对象（和通用Mapper注解要求一样，不支持主键策略）和表，是一个更接近Hibernate用法的类，这个类非常强大，支持Mybatis生成的Example查询，还支持一个通用Example查询。</p>

<p><code>EntityMapper</code>功能更全面，但是不支持主键策略，由于该类足以独立成一个开源项目，简单几句不能说明用法，因此详细内容请看独立的文档。</p>

<h2 id="1-1-0">1.1.0</h2>

<ul>
<li>完善文档</li>
<li>解决主键selectKey的一个bug</li>
<li>解决@Column注解为空时的bug</li>
<li>完善自动增长的配置，增加对JDBC的支持<code>@GeneratedValue(generator = &quot;JDBC&quot;)</code>,详细请看下面关于主键策略的详细内容</li>
<li>增加了一个<code>notEmpty</code>参数，该参数会影响所有使用<code>getAllIfColumnNode</code>方法的地方,具体到<code>Mapper&lt;T&gt;</code>,影响3个方法：select,selectCount,delete。如果设置为<code>true</code>，那么<code>&lt;if ...</code>的条件中会包含<code>String</code>类型<code>property!=''</code>的条件。</li>
</ul>

<h2 id="1-0-0正式发布版">1.0.0正式发布版</h2>

<ul>
<li>增加通用Mapper专用的MyBatis Generator插件，可以自动生成实体类注解以及Mapper接口和一个空的xml文件</li>
<li>插件后续可能会增加更多的自动生成代码。</li>
<li>有关插件的使用，后续完善文档</li>
</ul>

<h2 id="0-3-2版本说明">0.3.2版本说明</h2>

<p>移除了<code>MapperInterceptor</code>类，不在提供拦截器方式的使用。如果有需要可以自己从0.3.1版本获取。</p>

<h2 id="0-3-1版本说明">0.3.1版本说明</h2>

<p>支持Spring4泛型注入，详细请看文档<a href="http://git.oschina.net/free/Mapper/blob/master/UseMapperInSpring4.md">在Spring4中使用通用Mapper</a></p>

<h2 id="0-3-0版本说明">0.3.0版本说明</h2>

<p>这个版本的主要目的是消除拦截器，因此针对常用的情况增加了两种更方便的使用方式。</p>

<h2 id="0-2-0版本说明">0.2.0版本说明</h2>

<p>该版本做了大量的重构，在原有基础上增加了两个类，分别为<code>MapperTemplate</code>和<code>MapperProvider</code>，其他几个类都有相当大的改动。</p>

<p><strong>但是</strong>，这次重构并不影响原有的业务代码。</p>

<p>这次重构的目的是为了方便开发者自行扩展，增加自己需要的通用Mapper。这次重构后，扩展变的更容易。稍后会写一篇<strong>如何进行扩展</strong>的文档。</p>

<p>这次更新还修复Oracle序列的BUG。</p>


      
      
        </div> 
      
      </div>
    </div>

    

    <div id="navigation">
        
        
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://mapperhelper.github.io//js/clipboard.min.js"></script>
    <script src="https://mapperhelper.github.io//js/perfect-scrollbar.min.js"></script>
    <script src="https://mapperhelper.github.io//js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://mapperhelper.github.io//js/jquery.sticky-kit.min.js"></script>
    <script src="https://mapperhelper.github.io//js/featherlight.min.js"></script>
    <script src="https://mapperhelper.github.io//js/html5shiv-printshiv.min.js"></script>
    <script src="https://mapperhelper.github.io//js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://mapperhelper.github.io//js/modernizr.custom.71422.js"></script>
    <script src="https://mapperhelper.github.io//js/learn.js"></script>
    <script src="https://mapperhelper.github.io//js/hugo-learn.js"></script>
    

  </body>
</html>


